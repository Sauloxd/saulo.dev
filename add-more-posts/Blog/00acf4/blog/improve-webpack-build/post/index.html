<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.11.2"/><title data-react-helmet="true"> Blog - How to reduce webpack build time by 41.5% with this 1 weird trick</title><style data-styled="" data-styled-version="5.3.5">html,body{font-family:Fira Code sans-serif;background-color:#1E1E1E;margin:0;}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
@media (max-width:900px){html,body{font-size:14px;}}/*!sc*/
@media (max-width:400px){html,body{font-size:13px;}}/*!sc*/
data-styled.g1[id="sc-global-bIkoWg1"]{content:"sc-global-bIkoWg1,"}/*!sc*/
.gTgJhB{font-family:Fira Code;font-size:0.75rem;font-weight:400;color:#D4D4D4;margin:0;line-height:1.5;}/*!sc*/
.cvzVhx{font-family:Fira Code;font-size:1rem;font-weight:400;color:#4EC9B0;margin:0;line-height:1.5;}/*!sc*/
.jtEfBB{font-family:Fira Code;font-size:0.75rem;font-weight:400;color:#DCDCAA;margin:0;line-height:1.5;}/*!sc*/
.bwTqSQ{font-family:Fira Code;font-size:1rem;font-weight:400;color:#D4D4D4;margin:0;line-height:1.5;}/*!sc*/
.lgxdWB{font-family:Fira Code;font-size:1rem;font-weight:400;color:#CE9178;margin:0;line-height:1.5;}/*!sc*/
.hPJMiX{font-family:Fira Code;font-weight:400;color:#D4D4D4;margin:0;line-height:1.5;}/*!sc*/
data-styled.g2[id="SpanText__SpanTextStyled-sc-gwg0hi-0"]{content:"gTgJhB,cvzVhx,jtEfBB,bwTqSQ,lgxdWB,hPJMiX,"}/*!sc*/
.hMLcYU{display:grid;grid-template-columns:1fr [content-start] 1200px [content-end] 1fr;}/*!sc*/
@media (max-width:1200px){.hMLcYU{grid-template-columns:1fr [content-start] 900px [content-end] 1fr;}}/*!sc*/
@media (max-width:900px){.hMLcYU{grid-template-columns:24px [content-start] 1fr [content-end] 24px;}}/*!sc*/
@media (max-width:400px){.hMLcYU{grid-template-columns:9px [content-start] 1fr [content-end] 9px;}}/*!sc*/
data-styled.g3[id="Grid__GridStyled-sc-132tsiy-0"]{content:"hMLcYU,"}/*!sc*/
.iiQBBL{grid-column-start:content-start;grid-column-end:content-end;}/*!sc*/
data-styled.g4[id="Grid__CenterSingleColumnStyled-sc-132tsiy-1"]{content:"iiQBBL,"}/*!sc*/
.fsgqsE{background-color:#252525;min-height:35px;}/*!sc*/
data-styled.g5[id="Navbar__NavbarStyled-sc-1ssi13a-0"]{content:"fsgqsE,"}/*!sc*/
.ccuVur{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
data-styled.g6[id="Navbar__CenterSingleColumnStyled-sc-1ssi13a-1"]{content:"ccuVur,"}/*!sc*/
.gPFEgr{display:inline-block;line-height:0;color:#D4D4D4;}/*!sc*/
data-styled.g7[id="iconWrap__IconWrapper-sc-44qq1f-0"]{content:"gPFEgr,"}/*!sc*/
.fugODJ{background-color:#2D2D2D;padding:8px 12px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:35px;min-width:150px;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.fugODJ .iconWrap-sc-44qq1f-1{margin-right:6px;}/*!sc*/
.fugODJ .iconWrap-sc-44qq1f-1{margin-left:auto;opacity:0;}/*!sc*/
.fugODJ:hover .iconWrap-sc-44qq1f-1{opacity:1;}/*!sc*/
.ggenRy{background-color:#1E1E1E;padding:8px 12px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:35px;min-width:150px;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.ggenRy .iconWrap-sc-44qq1f-1{margin-right:6px;}/*!sc*/
.ggenRy .iconWrap-sc-44qq1f-1{margin-left:auto;opacity:1;}/*!sc*/
.ggenRy:hover .iconWrap-sc-44qq1f-1{opacity:1;}/*!sc*/
data-styled.g9[id="Tab__TabWrapper-sc-x4uhne-0"]{content:"fugODJ,ggenRy,"}/*!sc*/
.jpMzWw:link{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g11[id="Navbar__LinkStyled-sc-1o08uxx-0"]{content:"jpMzWw,"}/*!sc*/
.isYrYK{font-family:Fira Code;font-size:2.5rem;font-weight:500;color:#9CDCFE;margin:36px 0;}/*!sc*/
data-styled.g12[id="H1__H1Styled-sc-1jshk3r-0"]{content:"isYrYK,"}/*!sc*/
.ivQNXU{padding:24px;}/*!sc*/
data-styled.g13[id="styles__GridStyled-sc-1sit0g1-0"]{content:"ivQNXU,"}/*!sc*/
.dyJvaP{margin-bottom:0;}/*!sc*/
data-styled.g14[id="styles__PageTitle-sc-1sit0g1-1"]{content:"dyJvaP,"}/*!sc*/
.jPscrg{margin-top:24px;margin-bottom:36px;}/*!sc*/
data-styled.g15[id="styles__PostContainer-sc-1sit0g1-2"]{content:"jPscrg,"}/*!sc*/
.jDInPZ{font-family:Fira Code;font-size:2rem;font-weight:500;color:#C586C0;margin:0;}/*!sc*/
data-styled.g16[id="H2__H2Styled-sc-17u03wu-0"]{content:"jDInPZ,"}/*!sc*/
.aXhRN{font-family:Fira Code;font-size:1.5rem;font-weight:500;color:#4EC9B0;margin:0;}/*!sc*/
data-styled.g18[id="H3__H3Styled-sc-1t96cu-0"]{content:"aXhRN,"}/*!sc*/
.iWgLaP{-webkit-text-decoration:underline;text-decoration:underline;color:inherit;}/*!sc*/
data-styled.g20[id="A__AStyled-sc-3ptx8j-0"]{content:"iWgLaP,"}/*!sc*/
</style><link as="script" rel="preload" href="/saulo.dev/add-more-posts/Blog/00acf4/webpack-runtime-d15d8d39623b58db3631.js"/><link as="script" rel="preload" href="/saulo.dev/add-more-posts/Blog/00acf4/framework-a923411d95eff667ebcd.js"/><link as="script" rel="preload" href="/saulo.dev/add-more-posts/Blog/00acf4/app-a820548dd1661a3a7d95.js"/><link as="script" rel="preload" href="/saulo.dev/add-more-posts/Blog/00acf4/a65678135c73ab1aefdddd16ff5000cfe1e8b4ed-de598c4792a3b41e24dc.js"/><link as="script" rel="preload" href="/saulo.dev/add-more-posts/Blog/00acf4/component---src-templates-blog-post-index-tsx-7b2a46b886ec0cf60ea4.js"/><link as="fetch" rel="preload" href="/saulo.dev/add-more-posts/Blog/00acf4/page-data/blog/improve-webpack-build/post/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/saulo.dev/add-more-posts/Blog/00acf4/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="display:grid;row-gap:0;height:100vh;width:100vw;grid-template-rows:[navbar-start] auto [navbar-end content-start] 1fr [content-end]"><div style="grid-row:navbar-start / navbar-end"><div class="Navbar__NavbarStyled-sc-1ssi13a-0 fsgqsE"><div class="Grid__GridStyled-sc-132tsiy-0 hMLcYU"><div class="Grid__CenterSingleColumnStyled-sc-132tsiy-1 iiQBBL Navbar__CenterSingleColumnStyled-sc-1ssi13a-1 ccuVur"><a class="Navbar__LinkStyled-sc-1o08uxx-0 jpMzWw" href="/saulo.dev/add-more-posts/Blog/00acf4/"><div class="Tab__TabWrapper-sc-x4uhne-0 fugODJ Tab-sc-x4uhne-1 hImYvt"><div class="iconWrap__IconWrapper-sc-44qq1f-0 gPFEgr iconWrap-sc-44qq1f-1 YPCbE" color="#D4D4D4"><svg width="16" height="16" fill="none" viewBox="0 0 13 7" xmlns="http://www.w3.org/2000/svg"><path d="M7.33395 4.71281C7.37609 4.76698 7.39715 4.8362 7.39715 4.92046C7.39715 4.99871 7.36706 5.07094 7.30687 5.13715C7.24668 5.20335 7.17746 5.23646 7.09922 5.23646C6.9668 5.23646 6.86448 5.19132 6.79225 5.10103L5.21229 3.10576L3.65038 5.11006C3.57815 5.19432 3.49689 5.23646 3.40661 5.23646C3.31633 5.23646 3.23808 5.20636 3.17187 5.14617C3.11168 5.08598 3.08159 5.01677 3.08159 4.93852C3.08159 4.85426 3.10265 4.77902 3.14479 4.71281L4.86018 2.61823L3.16284 0.532674C3.12071 0.472485 3.09965 0.400258 3.09965 0.315993C3.09965 0.231728 3.12974 0.159501 3.18993 0.0993121C3.25614 0.033104 3.3404 0 3.44272 0C3.55106 0 3.63533 0.0451419 3.69552 0.135426L5.25743 2.11264L6.81934 0.126397C6.87351 0.0481513 6.94874 0.00902838 7.04505 0.00902838C7.14135 0.00300946 7.2226 0.033104 7.28881 0.0993121C7.35502 0.159501 7.38812 0.228719 7.38812 0.306965C7.38812 0.379192 7.37007 0.4454 7.33395 0.505589L5.61856 2.61823L7.33395 4.71281Z" fill="#9CDCFE"></path><path d="M10.2501 0.0361135C11.0747 0.0361135 11.7308 0.312984 12.2183 0.866724C12.435 1.10748 12.5945 1.38134 12.6968 1.68831C12.8051 1.99527 12.8593 2.30525 12.8593 2.61823C12.8593 2.93121 12.8051 3.24119 12.6968 3.54815C12.5945 3.85512 12.435 4.12898 12.2183 4.36973C11.7308 4.92347 11.0747 5.20034 10.2501 5.20034H8.76044C8.67015 5.20034 8.59191 5.16724 8.5257 5.10103C8.45949 5.03482 8.42639 4.95658 8.42639 4.86629V0.379192C8.42639 0.288908 8.45949 0.210662 8.5257 0.144454C8.59191 0.072227 8.67015 0.0361135 8.76044 0.0361135H10.2501ZM10.1689 4.56836C10.7828 4.56836 11.2763 4.38779 11.6495 4.02666C12.0167 3.66552 12.2002 3.19604 12.2002 2.61823C12.2002 2.04041 12.0167 1.57094 11.6495 1.2098C11.2763 0.848667 10.7828 0.6681 10.1689 0.6681H9.10351V4.56836H10.1689Z" fill="#9CDCFE"></path><path d="M1.43551 6.37702C1.98323 6.37702 2.25408 6.20548 2.24807 5.8624C2.24807 5.75406 2.19389 5.6698 2.08555 5.60961C1.97721 5.54942 1.84179 5.49826 1.67928 5.45613C1.51677 5.414 1.33921 5.36885 1.1466 5.3207C0.953998 5.27255 0.773431 5.20634 0.604901 5.12208C0.436371 5.03781 0.297936 4.92947 0.189596 4.79706C0.0812554 4.65862 0.0270851 4.49009 0.0270851 4.29147C0.0270851 4.09284 0.0571797 3.92431 0.117369 3.78588C0.177558 3.64142 0.267842 3.51804 0.38822 3.41571C0.647034 3.19301 1.00817 3.08167 1.47162 3.08167C1.8448 3.08167 2.20292 3.14185 2.546 3.26223C2.61221 3.28631 2.66337 3.32844 2.69948 3.38863C2.74162 3.4428 2.76268 3.50299 2.76268 3.5692C2.76268 3.62939 2.73259 3.68958 2.6724 3.74976C2.61823 3.80995 2.56406 3.84005 2.50989 3.84005C2.45572 3.84005 2.38951 3.82801 2.31126 3.80394C2.07653 3.73171 1.81771 3.69559 1.53482 3.69559C1.25193 3.69559 1.03826 3.74375 0.893809 3.84005C0.749355 3.93635 0.677128 4.05673 0.677128 4.20118C0.677128 4.33962 0.731298 4.44194 0.839639 4.50815C0.947979 4.56834 1.0834 4.62251 1.24592 4.67066C1.41445 4.71881 1.59501 4.76395 1.78762 4.80608C1.98624 4.84822 2.16681 4.91142 2.32932 4.99568C2.71453 5.1943 2.90714 5.49826 2.90714 5.90755C2.90714 6.22655 2.78676 6.48235 2.546 6.67496C2.29321 6.89164 1.93508 6.99998 1.47162 6.99998C0.978074 6.99998 0.532674 6.88863 0.135426 6.66593C0.0511608 6.60574 0.00601892 6.53351 0 6.44925C0 6.35897 0.0270851 6.28373 0.0812554 6.22354C0.141445 6.15733 0.201634 6.12423 0.261823 6.12423C0.322012 6.12423 0.400258 6.14529 0.496561 6.18743C0.77945 6.31382 1.09243 6.37702 1.43551 6.37702Z" fill="#569CD6"></path></svg></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 gTgJhB">hello.sxd</span><div class="iconWrap__IconWrapper-sc-44qq1f-0 gPFEgr iconWrap-sc-44qq1f-1 YPCbE" color="#D4D4D4"><svg width="12" height="12" fill="none" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L8 8M8 1L1 8" stroke="currentColor"></path></svg></div></div></a><a class="Navbar__LinkStyled-sc-1o08uxx-0 jpMzWw" href="/saulo.dev/add-more-posts/Blog/00acf4/blog"><div class="Tab__TabWrapper-sc-x4uhne-0 ggenRy Tab-sc-x4uhne-1 hImYvt"><div class="iconWrap__IconWrapper-sc-44qq1f-0 gPFEgr iconWrap-sc-44qq1f-1 YPCbE" color="#D4D4D4"><svg width="16" height="16" fill="none" viewBox="0 0 13 7" xmlns="http://www.w3.org/2000/svg"><path d="M7.33395 4.71281C7.37609 4.76698 7.39715 4.8362 7.39715 4.92046C7.39715 4.99871 7.36706 5.07094 7.30687 5.13715C7.24668 5.20335 7.17746 5.23646 7.09922 5.23646C6.9668 5.23646 6.86448 5.19132 6.79225 5.10103L5.21229 3.10576L3.65038 5.11006C3.57815 5.19432 3.49689 5.23646 3.40661 5.23646C3.31633 5.23646 3.23808 5.20636 3.17187 5.14617C3.11168 5.08598 3.08159 5.01677 3.08159 4.93852C3.08159 4.85426 3.10265 4.77902 3.14479 4.71281L4.86018 2.61823L3.16284 0.532674C3.12071 0.472485 3.09965 0.400258 3.09965 0.315993C3.09965 0.231728 3.12974 0.159501 3.18993 0.0993121C3.25614 0.033104 3.3404 0 3.44272 0C3.55106 0 3.63533 0.0451419 3.69552 0.135426L5.25743 2.11264L6.81934 0.126397C6.87351 0.0481513 6.94874 0.00902838 7.04505 0.00902838C7.14135 0.00300946 7.2226 0.033104 7.28881 0.0993121C7.35502 0.159501 7.38812 0.228719 7.38812 0.306965C7.38812 0.379192 7.37007 0.4454 7.33395 0.505589L5.61856 2.61823L7.33395 4.71281Z" fill="#9CDCFE"></path><path d="M10.2501 0.0361135C11.0747 0.0361135 11.7308 0.312984 12.2183 0.866724C12.435 1.10748 12.5945 1.38134 12.6968 1.68831C12.8051 1.99527 12.8593 2.30525 12.8593 2.61823C12.8593 2.93121 12.8051 3.24119 12.6968 3.54815C12.5945 3.85512 12.435 4.12898 12.2183 4.36973C11.7308 4.92347 11.0747 5.20034 10.2501 5.20034H8.76044C8.67015 5.20034 8.59191 5.16724 8.5257 5.10103C8.45949 5.03482 8.42639 4.95658 8.42639 4.86629V0.379192C8.42639 0.288908 8.45949 0.210662 8.5257 0.144454C8.59191 0.072227 8.67015 0.0361135 8.76044 0.0361135H10.2501ZM10.1689 4.56836C10.7828 4.56836 11.2763 4.38779 11.6495 4.02666C12.0167 3.66552 12.2002 3.19604 12.2002 2.61823C12.2002 2.04041 12.0167 1.57094 11.6495 1.2098C11.2763 0.848667 10.7828 0.6681 10.1689 0.6681H9.10351V4.56836H10.1689Z" fill="#9CDCFE"></path><path d="M1.43551 6.37702C1.98323 6.37702 2.25408 6.20548 2.24807 5.8624C2.24807 5.75406 2.19389 5.6698 2.08555 5.60961C1.97721 5.54942 1.84179 5.49826 1.67928 5.45613C1.51677 5.414 1.33921 5.36885 1.1466 5.3207C0.953998 5.27255 0.773431 5.20634 0.604901 5.12208C0.436371 5.03781 0.297936 4.92947 0.189596 4.79706C0.0812554 4.65862 0.0270851 4.49009 0.0270851 4.29147C0.0270851 4.09284 0.0571797 3.92431 0.117369 3.78588C0.177558 3.64142 0.267842 3.51804 0.38822 3.41571C0.647034 3.19301 1.00817 3.08167 1.47162 3.08167C1.8448 3.08167 2.20292 3.14185 2.546 3.26223C2.61221 3.28631 2.66337 3.32844 2.69948 3.38863C2.74162 3.4428 2.76268 3.50299 2.76268 3.5692C2.76268 3.62939 2.73259 3.68958 2.6724 3.74976C2.61823 3.80995 2.56406 3.84005 2.50989 3.84005C2.45572 3.84005 2.38951 3.82801 2.31126 3.80394C2.07653 3.73171 1.81771 3.69559 1.53482 3.69559C1.25193 3.69559 1.03826 3.74375 0.893809 3.84005C0.749355 3.93635 0.677128 4.05673 0.677128 4.20118C0.677128 4.33962 0.731298 4.44194 0.839639 4.50815C0.947979 4.56834 1.0834 4.62251 1.24592 4.67066C1.41445 4.71881 1.59501 4.76395 1.78762 4.80608C1.98624 4.84822 2.16681 4.91142 2.32932 4.99568C2.71453 5.1943 2.90714 5.49826 2.90714 5.90755C2.90714 6.22655 2.78676 6.48235 2.546 6.67496C2.29321 6.89164 1.93508 6.99998 1.47162 6.99998C0.978074 6.99998 0.532674 6.88863 0.135426 6.66593C0.0511608 6.60574 0.00601892 6.53351 0 6.44925C0 6.35897 0.0270851 6.28373 0.0812554 6.22354C0.141445 6.15733 0.201634 6.12423 0.261823 6.12423C0.322012 6.12423 0.400258 6.14529 0.496561 6.18743C0.77945 6.31382 1.09243 6.37702 1.43551 6.37702Z" fill="#569CD6"></path></svg></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 gTgJhB">blog.sxd</span><div class="iconWrap__IconWrapper-sc-44qq1f-0 gPFEgr iconWrap-sc-44qq1f-1 YPCbE" color="#D4D4D4"><svg width="12" height="12" fill="none" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L8 8M8 1L1 8" stroke="currentColor"></path></svg></div></div></a></div></div></div></div><div style="grid-row:content-start / content-end;overflow:auto"><div class="Grid__GridStyled-sc-132tsiy-0 hMLcYU styles__GridStyled-sc-1sit0g1-0 ivQNXU"><div class="Grid__CenterSingleColumnStyled-sc-132tsiy-1 iiQBBL"><div><h1 class="H1__H1Styled-sc-1jshk3r-0 isYrYK styles__PageTitle-sc-1sit0g1-1 dyJvaP">How to reduce webpack build time by 41.5% with this 1 weird trick</h1><div><span color="secondaryAccessory" class="SpanText__SpanTextStyled-sc-gwg0hi-0 cvzVhx"> <!-- -->#<!-- -->webpack<!-- --> </span></div><div><span color="highlight1" class="SpanText__SpanTextStyled-sc-gwg0hi-0 jtEfBB">Posted <!-- -->01 May, 2021<!-- --> - <!-- -->6<!-- --> min read<!-- --> </span></div></div><div class="styles__PostContainer-sc-1sit0g1-2 jPscrg"><h2 class="H2__H2Styled-sc-17u03wu-0 jDInPZ H2-sc-17u03wu-1 hAeIRw"><span>How to reduce webpack build time by 41.5% with this 1 weird trick</span></h2><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>webpack is a really good and extremely flexible tool. How many people can confidently say they built something that supports 99.999999% of weird usecases? It&#x27;s certainly possible in theory, a naive implementation would be to just pass an &quot;option&quot; parameter and start going wild with the ifs and elses. Now, imagine your option parameter having 1000 attributes, interacting with one another, in an unholy permutation of possibilities. I certainly wouldn&#x27;t be able to build something nearly maintainable, even if I had the perfect specs beforehand. Not even talking about the plugin architecture, that allows expansion of webpack capabilities without the need to change the core code.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>WOW MEME HERE</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>That being said, and by all the times I had my share of </span><del><span>pain</span></del><span>  learning by navigating in the endless documentation, I realize I still know nothing about it. It&#x27;s REALLY easy to mess things ups, specially if you don&#x27;t came from something magic like </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>create-react-app</span></span><span> or had to eject and do some tweaking to support your use case. Now, if you have an unorthodox config and is struggling to improve your build time, let&#x27;s talk about it.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>You probably visited the </span><a target="_blank" rel="noopener noreferrer" href="https://webpack.js.org/guides/build-performance/" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>docs guide to perfomance</span></a><span> (and if you don&#x27;t speak webpack, you got quite lost, like me 🙃),  </span><a target="_blank" rel="noopener noreferrer" href="https://slack.engineering/keep-webpack-fast-a-field-guide-for-better-build-performance-f56a5995e8f1" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>Slack guide to webpack perfomance</span></a><span>, </span><a target="_blank" rel="noopener noreferrer" href="https://medium.com/onfido-tech/speed-up-webpack-ff53c494b89c" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>Onfido guide to perfomance</span></a><span>, and both (like this post) linking to another infinite resources. And  you probably tried measuring things with tools like the </span><a target="_blank" rel="noopener noreferrer" href="https://github.com/stephencookdev/speed-measure-webpack-plugin" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>speed-measure-plugin</span></a><span>, analysed the results, removed some plugins, changed other configurations, measured again, added another plugin promising that parallelisation would save the day (which they probably didn&#x27;t, otherwise you wouldn&#x27;t be here), and ended yet another day frustrated, feeling beaten by your own creation.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>FRAKENSTAING MONSTER MEME HERE</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>But... sometimes the flailing just works.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>Measuring first before tweaking perfomance is a must, and since all resources pointed to a common tool, we decided to give it a shot. Speed measure plugin, gave the following scenario:</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><img src="./Untitled.png" alt="How%20to%20red%20ca463/Untitled.png"/></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>A quite bloody scenario, with 11 minutes total. But wait... something is weird here. Looking just the plugins metrics, HOW can &quot;CaseSensitivePathsPlugin&quot; be responsible for 5min of our build? A plugin responsible for just ensuring the case sensitivity of my files??? Somethings seems obviously wrong, and before even looking to the rest of the metrics, we decided to tackle it by simply removing it.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-wrapper"><span></span><div></div><span>      </span><a target="_blank" rel="noopener" class="A__AStyled-sc-3ptx8j-0 iWgLaP gatsby-resp-image-link" href="/saulo.dev/add-more-posts/Blog/00acf4/static/71c9e7400703e0192c08d3a19289aac9/30c92/Untitled-1.png"><span></span><div></div><span>    </span><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-background-image"></span><span></span><div></div><span>  </span><img class="gatsby-resp-image-image" alt="./Untitled%201.png" title="./Untitled%201.png" src="/saulo.dev/add-more-posts/Blog/00acf4/static/71c9e7400703e0192c08d3a19289aac9/5a190/Untitled-1.png" srcSet="/saulo.dev/add-more-posts/Blog/00acf4/static/71c9e7400703e0192c08d3a19289aac9/772e8/Untitled-1.png 200w,/saulo.dev/add-more-posts/Blog/00acf4/static/71c9e7400703e0192c08d3a19289aac9/e17e5/Untitled-1.png 400w,/saulo.dev/add-more-posts/Blog/00acf4/static/71c9e7400703e0192c08d3a19289aac9/5a190/Untitled-1.png 800w,/saulo.dev/add-more-posts/Blog/00acf4/static/71c9e7400703e0192c08d3a19289aac9/30c92/Untitled-1.png 874w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy" decoding="async"/><span></span><div></div><span>  </span></a><span></span><div></div><span>    </span></span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>COOL! We already managed to reduce 5 min of our build time!!!!!!!! But we actually didn&#x27;t. Overall output still took the 11 minutes 🙃 We didn&#x27;t fully understand what happened, so to unblock ourselves we ignored this result and continued to investigate.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-wrapper"><span></span><div></div><span>      </span><a target="_blank" rel="noopener" class="A__AStyled-sc-3ptx8j-0 iWgLaP gatsby-resp-image-link" href="/saulo.dev/add-more-posts/Blog/00acf4/static/bbdc7b4debb612e04ce220c089656789/774b6/Untitled-2.png"><span></span><div></div><span>    </span><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-background-image"></span><span></span><div></div><span>  </span><img class="gatsby-resp-image-image" alt="./Untitled-2.png" title="./Untitled-2.png" src="/saulo.dev/add-more-posts/Blog/00acf4/static/bbdc7b4debb612e04ce220c089656789/774b6/Untitled-2.png" srcSet="/saulo.dev/add-more-posts/Blog/00acf4/static/bbdc7b4debb612e04ce220c089656789/772e8/Untitled-2.png 200w,/saulo.dev/add-more-posts/Blog/00acf4/static/bbdc7b4debb612e04ce220c089656789/e17e5/Untitled-2.png 400w,/saulo.dev/add-more-posts/Blog/00acf4/static/bbdc7b4debb612e04ce220c089656789/774b6/Untitled-2.png 738w" sizes="(max-width: 738px) 100vw, 738px" loading="lazy" decoding="async"/><span></span><div></div><span>  </span></a><span></span><div></div><span>    </span></span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-wrapper"><span></span><div></div><span>      </span><a target="_blank" rel="noopener" class="A__AStyled-sc-3ptx8j-0 iWgLaP gatsby-resp-image-link" href="/saulo.dev/add-more-posts/Blog/00acf4/static/ca67b4298048ac5070702dc9e54df8b5/31493/Untitled-3.png"><span></span><div></div><span>    </span><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-background-image"></span><span></span><div></div><span>  </span><img class="gatsby-resp-image-image" alt="./Untitled-3.png" title="./Untitled-3.png" src="/saulo.dev/add-more-posts/Blog/00acf4/static/ca67b4298048ac5070702dc9e54df8b5/31493/Untitled-3.png" srcSet="/saulo.dev/add-more-posts/Blog/00acf4/static/ca67b4298048ac5070702dc9e54df8b5/772e8/Untitled-3.png 200w,/saulo.dev/add-more-posts/Blog/00acf4/static/ca67b4298048ac5070702dc9e54df8b5/e17e5/Untitled-3.png 400w,/saulo.dev/add-more-posts/Blog/00acf4/static/ca67b4298048ac5070702dc9e54df8b5/31493/Untitled-3.png 664w" sizes="(max-width: 664px) 100vw, 664px" loading="lazy" decoding="async"/><span></span><div></div><span>  </span></a><span></span><div></div><span>    </span></span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>The loaders metrics didn&#x27;t gave much more insight either. Babel-loader was taking 9min to build. Well, with 5.6k TS modules of course it would make babel sweat a little bit, so we just assumed there was nothing much we could do. Next, would be the </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>sass</span></span><span> preprocessor chain. 6min for just 103 files seems a little too much. Expose loader is weird, I just want my jquery to be globally available, why it&#x27;s taking 3 minutes? Then comes the </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>slim</span></span><span> preprocessor part with 2x 2min.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>Obs: Slim is just like </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>pugjs</span></span><span> but is more commonly used in Rails applications as the main template engine. Since we came from a Rails building system (hello </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>sprockets</span></span><span> ) before migrating to </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>webpack</span></span><span> we decided to keep supporting it through the slim-loader loader.  Let&#x27;s ignore the rest.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>Ok, we tried a few other things, including using the parallel plugins options, but none worked out of the box, and that demotivated us harshly. We decided to hold the investigation, since we were out of leads. Basically we just assumed 5.6k TS/JS files + babel were the culprits and there was nothing we could do about it.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>Quite sometime later, we discovered that the slim preprocessor was quite under performant.   Maybe using a better implementation (perhaps rewritten in GO 👀) of it would lower the time......... OR MAYBE WE COULD JUST PURGE IT FROM OUR CODEBASE.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>The result was like day and night. </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>webpack-dev-server</span></span><span> just went from a 5 min build to less than a minute. What about the build? 730s → 427s a 41.5 % improvement. BUT HOW?? wasn&#x27;t slim only responsible for about 4min in our build time? Compared to Babel and Sass, it wasn&#x27;t that much on the overall time... what was going on? Well, we measured things once again:</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-wrapper"><span></span><div></div><span>      </span><a target="_blank" rel="noopener" class="A__AStyled-sc-3ptx8j-0 iWgLaP gatsby-resp-image-link" href="/saulo.dev/add-more-posts/Blog/00acf4/static/0fa2c4f70f596df9fa50aa6519158fb3/d52e5/Untitled-4.png"><span></span><div></div><span>    </span><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-background-image"></span><span></span><div></div><span>  </span><img class="gatsby-resp-image-image" alt="./Untitled-4.png" title="./Untitled-4.png" src="/saulo.dev/add-more-posts/Blog/00acf4/static/0fa2c4f70f596df9fa50aa6519158fb3/5a190/Untitled-4.png" srcSet="/saulo.dev/add-more-posts/Blog/00acf4/static/0fa2c4f70f596df9fa50aa6519158fb3/772e8/Untitled-4.png 200w,/saulo.dev/add-more-posts/Blog/00acf4/static/0fa2c4f70f596df9fa50aa6519158fb3/e17e5/Untitled-4.png 400w,/saulo.dev/add-more-posts/Blog/00acf4/static/0fa2c4f70f596df9fa50aa6519158fb3/5a190/Untitled-4.png 800w,/saulo.dev/add-more-posts/Blog/00acf4/static/0fa2c4f70f596df9fa50aa6519158fb3/d52e5/Untitled-4.png 848w" sizes="(max-width: 800px) 100vw, 800px" loading="lazy" decoding="async"/><span></span><div></div><span>  </span></a><span></span><div></div><span>    </span></span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-wrapper"><span></span><div></div><span>      </span><a target="_blank" rel="noopener" class="A__AStyled-sc-3ptx8j-0 iWgLaP gatsby-resp-image-link" href="/saulo.dev/add-more-posts/Blog/00acf4/static/fac169edadee02cad153cf6d9a4d8148/898f6/Untitled-5.png"><span></span><div></div><span>    </span><span class="SpanText__SpanTextStyled-sc-gwg0hi-0 hPJMiX gatsby-resp-image-background-image"></span><span></span><div></div><span>  </span><img class="gatsby-resp-image-image" alt="./Untitled-5.png" title="./Untitled-5.png" src="/saulo.dev/add-more-posts/Blog/00acf4/static/fac169edadee02cad153cf6d9a4d8148/898f6/Untitled-5.png" srcSet="/saulo.dev/add-more-posts/Blog/00acf4/static/fac169edadee02cad153cf6d9a4d8148/772e8/Untitled-5.png 200w,/saulo.dev/add-more-posts/Blog/00acf4/static/fac169edadee02cad153cf6d9a4d8148/e17e5/Untitled-5.png 400w,/saulo.dev/add-more-posts/Blog/00acf4/static/fac169edadee02cad153cf6d9a4d8148/898f6/Untitled-5.png 798w" sizes="(max-width: 798px) 100vw, 798px" loading="lazy" decoding="async"/><span></span><div></div><span>  </span></a><span></span><div></div><span>    </span></span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>There was some weird stuff going on... How come babel-loader only took 4min this time? even sass took less time to build! Whaaaaaat ??</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>In the end this plugin couldn&#x27;t give us the main culprit for our huge build time. Maybe it&#x27;s because the compiler of slim was actually a ruby gem called in a </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>execSync</span></span><span> node call, and caused the measure plugin to not be so accurate?</span></span><div style="margin-top:16px"></div><h3 class="H3__H3Styled-sc-1t96cu-0 aXhRN"><span>Conclusion</span></h3><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>Sorry for the long narrative, It&#x27;s just that sometimes developing is so frustrating it&#x27;s funny.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><span>In the end, we traded the advantages of a modern html syntax like </span><span color="highlight2" class="SpanText__SpanTextStyled-sc-gwg0hi-0 lgxdWB"><span>slim</span></span><span> for a faster build and more pain to maintain our templates (like forgetting to close the div tag ⚰️), but since 90% of those templates were just legacy code and were just slowing down the start of webpack-dev-server, the whole team was absolutely bought in when we reduced the local server build in 80%.</span></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://dev.to/sadarshannaiynar/demystifying-webpack-2f5n" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://dev.to/sadarshannaiynar/demystifying-webpack-2f5n</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://dev.to/slashgear_/how-to-boost-the-speed-of-your-webpack-build-16h0" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://dev.to/slashgear_/how-to-boost-the-speed-of-your-webpack-build-16h0</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://robertknight.me.uk/posts/webpack-dll-plugins/" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://robertknight.me.uk/posts/webpack-dll-plugins/</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://github.com/webpack/webpack/issues/1905" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://github.com/webpack/webpack/issues/1905</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://slack.engineering/keep-webpack-fast-a-field-guide-for-better-build-performance-f56a5995e8f1" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://slack.engineering/keep-webpack-fast-a-field-guide-for-better-build-performance-f56a5995e8f1</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://blog.box.com/how-we-improved-webpack-build-performance-95" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://blog.box.com/how-we-improved-webpack-build-performance-95</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://medium.com/onfido-tech/speed-up-webpack-ff53c494b89c" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://medium.com/onfido-tech/speed-up-webpack-ff53c494b89c</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://medium.com/ottofellercom/0-100-in-two-seconds-speed-up-webpack-465de691ed4a" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://medium.com/ottofellercom/0-100-in-two-seconds-speed-up-webpack-465de691ed4a</span></a></span><div style="margin-top:16px"></div><span color="neutral" class="SpanText__SpanTextStyled-sc-gwg0hi-0 bwTqSQ"><a target="_blank" rel="noopener noreferrer" href="https://blog.logrocket.com/guide-performance-optimization-webpack/" class="A__AStyled-sc-3ptx8j-0 iWgLaP"><span>https://blog.logrocket.com/guide-performance-optimization-webpack/</span></a></span></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-175742979-1"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'UA-175742979-1'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = true;

    var options = {
      send_page_view: false
    };
    if (true) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'UA-175742979-1', options);
  </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/improve-webpack-build/post/";window.___webpackCompilationHash="24730358ce43176215bd";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-bb95eac61a347b6477d8.js"],"app":["/app-a820548dd1661a3a7d95.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-584c493aa07ca153eca9.js"],"component---src-pages-blog-index-tsx":["/component---src-pages-blog-index-tsx-cd9f3ad029eb0ecd6629.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-5d3bf98f759e064f3fac.js"],"component---src-templates-blog-post-index-tsx":["/component---src-templates-blog-post-index-tsx-7b2a46b886ec0cf60ea4.js"]};/*]]>*/</script><script src="/saulo.dev/add-more-posts/Blog/00acf4/polyfill-bb95eac61a347b6477d8.js" nomodule=""></script><script src="/saulo.dev/add-more-posts/Blog/00acf4/component---src-templates-blog-post-index-tsx-7b2a46b886ec0cf60ea4.js" async=""></script><script src="/saulo.dev/add-more-posts/Blog/00acf4/a65678135c73ab1aefdddd16ff5000cfe1e8b4ed-de598c4792a3b41e24dc.js" async=""></script><script src="/saulo.dev/add-more-posts/Blog/00acf4/app-a820548dd1661a3a7d95.js" async=""></script><script src="/saulo.dev/add-more-posts/Blog/00acf4/framework-a923411d95eff667ebcd.js" async=""></script><script src="/saulo.dev/add-more-posts/Blog/00acf4/webpack-runtime-d15d8d39623b58db3631.js" async=""></script></body></html>